# PROMPT: Spec Plan (с параметрами FEATURE и CONTEXT)

Ты работаешь по процессу **spec-flow**.
Нужно сгенерировать план реализации фичи в формате Markdown.
Имя файла и контекст будут переданы как параметры.

---

## Параметры (из основного промпта)
- **FEATURE:** название папки, в которой будет создан или обновлён план. Пример: `FEATURE:payments`
- **CONTEXT:** основной контекст для создания плана. Пример: `CONTEXT: функционал для …`

---

## Инструкции для модели:

1. Используй файл `spec/core/spec.md` как дополнительный контекст при подготовке плана.
2. Если в `spec/features/{FEATURE}` уже существует план, обнови его вместо создания нового файла.
3. Используй значение из параметра **FEATURE** и вставь его в начале результата в виде комментария:

```md
<!-- SAVE_AS: spec/features/{FEATURE}/plan.md -->
```

4. Дальше сгенерируй план реализации, строго следуя структуре ниже.
   Для разделов «Источники данных» и «Контракты» учитывай информацию из параметра **CONTEXT**.

```md
# План реализации (FEAT-XXX)

**Фича:** {CONTEXT}

## Источники данных / схемы
- Откуда берём данные, миграции/индексы.

## Контракты
- REST/GraphQL сигнатуры, формат ошибок.

## Архитектура / Компоненты
- Модули/сервисы, ограничения, инварианты.

## Риски
- Потенциальные проблемы и план смягчения.

## Допущения
- Сделанные допущения при недостатке информации.
```

5. Пиши структурированно, только в Markdown.
6. Не добавляй ничего вне документа.
7. Не переходи к задачам — они будут в следующих шагах.

---

## Цель этого шага

Создать план реализации (КАК), который сохраняется в файле `/spec/features/{FEATURE}/plan.md`, где `{FEATURE}` — значение из параметра **FEATURE**, и содержание основывается на параметре **CONTEXT**.
