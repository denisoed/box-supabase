# Spec-flow

Spec-flow — это последовательный процесс подготовки фичи к разработке: от формулирования бизнес-контекста до конкретного плана действий и набора задач. Он помогает синхронизировать ожидания продуктовой, инженерной и QA-команд, уменьшить количество изменений «на лету» и зафиксировать критерии успешности до написания кода. В рамках spec-flow все артефакты генерирует LLM: пользователь формулирует контекст и параметры, а ассистент создаёт и сохраняет нужные файлы.

## Зачем нужен spec-flow
- **Единая картина.** Все артефакты (спецификация, план, задачи) живут в одном месте и связаны между собой.
- **Прозрачность ожиданий.** Команда заранее понимает, что именно нужно построить, какие ограничения и риски учесть.
- **Готовность к выполнению.** По итогам spec-flow появляется понятный backlog, который можно раскладывать по исполнителям.

## Структура каталога `/spec`
```
/spec
├── README.md            ← это руководство
└── core                 ← шаблоны, запускающие spec-flow
    ├── spec.md          ← шаблон спецификации (что делаем и зачем)
    ├── plan.md          ← шаблон плана реализации (как делаем)
    └── tasks.md         ← шаблон списка задач (кто и что проверяет)
```
Каждый шаблон — Markdown-файл с подробными инструкциями и комментариями вида `<!-- ... -->`. Эти подсказки остаются только в шаблонах: в итоговых документах не должно быть служебных комментариев и незаполненных заглушек.

## Примеры промптов
> В примерах подразумевается, что вы работаете в ассистенте, поддерживающем spec-flow и умеющем сохранять файл по инструкции `SAVE_AS`.

### Спецификация фичи
```
Используй шаблон из `spec/core/spec.md`.
<feature>team-collaboration</feature>
<context>Разработать совместное редактирование досок для продуктовых команд</context>
Доп. контекст: пользователи — менеджеры и дизайнеры, необходимо поддержать до 50 одновременных редакторов без конфликтов.</context>
```

### План реализации
```
Используй шаблон из `spec/core/plan.md`.
<feature>team-collaboration</feature>
<context>Сформировать технический план реализации совместного редактирования досок</context>
Доступна спецификация: `spec/features/team-collaboration/spec.md`.
```

### Список задач
```
Используй шаблон из `spec/core/tasks.md`.
<feature>team-collaboration</feature>
<context>Подготовить дорожную карту задач для релиза совместного редактирования досок</context>
Учитывай материалы: `spec.md` и `plan.md` для этой фичи.
```

## Советы по эффективной работе
- **Проверяйте ссылки и артефакты.** Если план ссылается на диаграмму или API, убедитесь, что они существуют или добавьте задание на их подготовку.
- **Фиксируйте метрики.** Включайте числовые критерии (время отклика, проценты ошибок, SLA), чтобы у QA были понятные проверки.
- **Отмечайте открытые вопросы.** Всё, что остаётся неясным, выносите в Assumptions/Допущения — это помогает управлять рисками.
- **Возвращайтесь к документам после релиза.** Обновляйте фактическое состояние или добавляйте lessons learned для следующих итераций.

## Быстрый чек-лист перед завершением этапа
- [ ] Добавлен корректный `SAVE_AS` и файл сохраняется в нужную папку фичи.
- [ ] Нет служебных комментариев и заглушек (`...`, `{PLACEHOLDER}` и т.п.).
- [ ] Разделы заполнены содержательно, с конкретными действиями и ответственностями.
- [ ] Указаны критерии проверки (тесты, метрики, ревью) на каждом этапе.

Spec-flow служит единым источником истины: чем подробнее и яснее документы на каждом шаге, тем предсказуемее и быстрее проходит разработка.
